{"ast":null,"code":"import { useReducer, useEffect } from 'react';\n\nfunction useLocalStorageReducer(key, defaultVal, reducer) {\n  const [state, dispatch] = useReducer(reducer, defaultVal, () => {\n    let value;\n\n    try {\n      value = JSON.parse(window.localStorage.getItem(key) || String(defaultVal));\n    } catch (e) {\n      value = defaultVal;\n    }\n\n    return value;\n  });\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [state]);\n  return [state, dispatch];\n}\n\nexport { useLocalStorageReducer };","map":{"version":3,"sources":["/Users/josephweissgold/Dropbox/** After/StarterPackApp/starter-pack-app/src/hooks/useLocalStorageReducer.js"],"names":["useReducer","useEffect","useLocalStorageReducer","key","defaultVal","reducer","state","dispatch","value","JSON","parse","window","localStorage","getItem","String","e","setItem","stringify"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;;AAEA,SAASC,sBAAT,CAAiCC,GAAjC,EAAsCC,UAAtC,EAAkDC,OAAlD,EAA0D;AACzD,QAAM,CACLC,KADK,EAELC,QAFK,IAGFP,UAAU,CAACK,OAAD,EAAUD,UAAV,EAAsB,MAAM;AACzC,QAAII,KAAJ;;AACA,QAAI;AACHA,MAAAA,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BV,GAA5B,KAAoCW,MAAM,CAACV,UAAD,CAArD,CAAR;AACA,KAFD,CAEE,OAAOW,CAAP,EAAU;AACXP,MAAAA,KAAK,GAAGJ,UAAR;AACA;;AACD,WAAOI,KAAP;AACA,GARa,CAHd;AAaAP,EAAAA,SAAS,CACR,MAAM;AACLU,IAAAA,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4Bb,GAA5B,EAAiCM,IAAI,CAACQ,SAAL,CAAeX,KAAf,CAAjC;AACA,GAHO,EAIR,CACCA,KADD,CAJQ,CAAT;AAQA,SAAO,CACNA,KADM,EAENC,QAFM,CAAP;AAIA;;AACD,SAASL,sBAAT","sourcesContent":["import { useReducer, useEffect } from 'react';\n\nfunction useLocalStorageReducer (key, defaultVal, reducer){\n\tconst [\n\t\tstate,\n\t\tdispatch\n\t] = useReducer(reducer, defaultVal, () => {\n\t\tlet value;\n\t\ttry {\n\t\t\tvalue = JSON.parse(window.localStorage.getItem(key) || String(defaultVal));\n\t\t} catch (e) {\n\t\t\tvalue = defaultVal;\n\t\t}\n\t\treturn value;\n\t});\n\n\tuseEffect(\n\t\t() => {\n\t\t\twindow.localStorage.setItem(key, JSON.stringify(state));\n\t\t},\n\t\t[\n\t\t\tstate\n\t\t]\n\t);\n\treturn [\n\t\tstate,\n\t\tdispatch\n\t];\n}\nexport { useLocalStorageReducer };\n"]},"metadata":{},"sourceType":"module"}